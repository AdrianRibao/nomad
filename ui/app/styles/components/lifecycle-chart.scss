.lifecycle-chart {
  padding-top: 2rem;
  position: relative;

  .lifecycle-phases-header {
    height: 2.5rem;
  }

  .lifecycle-phases {
    top: 1.5em;
    bottom: 1.5em;
    right: 1.5em;
    left: 1.5em;
    position: absolute;
  }

  .lifecycle-phase {
    position: absolute;
    bottom: 0;
    top: 0;

    border-top: 2px solid transparent;

    .name {
      padding: 0.5rem 0.9rem;
      font-size: $size-7;
      font-weight: $weight-semibold;
      color: $ui-gray-500;
    }

    &.is-active {
      background: $white-bis;
      border-top: 2px solid $vagrant-blue;

      .name {
        color: $vagrant-blue;
      }
    }

    &.prestart {
      left: 0;
      right: 75%;

      &.is-active {
        // FIXME (and below) dashing is more dense than design
        border-right: 1px dashed $ui-gray-200;
      }
    }

    &.main {
      left: 25%;
      right: 0;
      border-left: 1px dashed transparent;

      &.is-active {
        border-left: 1px dashed $ui-gray-200;
      }
    }
  }

  .lifecycle-chart-row {
    // FIXME ugh z-index nightmares?!?!
    opacity: 0.99;

    .row {
      margin: 0.55em 0.9em;
      padding: 0.3em 0.55em;
      border: 1px solid $grey-blue;
      border-radius: $radius;

      .name {
        font-weight: $weight-semibold;
      }

      .lifecycle {
        font-size: $size-7;
        color: $grey;
      }
    }

    &.is-active {
      .row {
        border-color: $nomad-green;
        background: lighten($nomad-green, 50%);
      }
    }

    &.main {
      margin-left: 25%;
    }

    &.prestart {
      margin-right: 75%;
    }

    &:last-child .row {
      margin-bottom: 0.9em;
    }
  }
}
